# ValidSoft Connector

## Doc draft

Author: Validsoft


# Introduction

In order for your DaVinci setup, whether new or existing, to utilize the ValidSoft VoiceID connector, both parties need to be involved. Your administrator should set up the connector, while ValidSoft will include you as a client in its systems and provide assistance with any necessary setup.
Simply contact ValidSoft with a request for integration. We will take care of the necessary configuration on our end.
To set up the ValidSoft VoiceID connectors for Enrollment and Sign-On, the client's Administrator should configure them with the details provided by ValidSoft. This can be done by following the instructions in the "Setting up connector" section.
Once the integration is complete, users will be asked to create a voiceprint. Once the voiceprint is successfully created, the user will be enrolled. Instead of using a password, they can use their voice to log in to the client's dashboard or requested page.

# Setup


## Resources

For information and setup help, see the below sections.

## Requirements

To use the connector, you'll need below details from Validsoft, for more details please contact validsoft support team at support@validsoft.com.com:

- SCIM Integration details to synchronize the users into Validsoft IDP.
- Validsoft VoiceID connection details.



## Setting up the connector

### Connector settings

Add the Validsoft VoiceID connector in DaVinci as a separate for Sign-On and Voice Enrollment.
Edit and configure each Validsoft VoiceID connector (Refer adding a connection <a href="https://docs.pingidentity.com/csh?context=davinci_adding_a_connection">here</a>) as shown below.

#### Provider Name
Validsoft

#### Authorization Endpoint
The Authorization Endpoint will be provided to you by Validsoft.

#### Token Endpoint
The Token Endpoint will be provided to you by Validsoft.

#### User Info Endpoint
The User Info Endpoint will be provided to you by Validsoft.

#### Client ID
The client key will be provided to you by Validsoft.

#### Client Secret
The client Secret will be provided to you by Validsoft.

#### Scope
openid

# Using the connector in a flow

The principle use case involves enabling voice biometrics in an SSO towards a corporate network. The corporate IT department arranges for a separate enrollment process via an Enrollment Validsoft VoiceID connector residing in the Davinci environment and an independent Sign-On process via a Sign-On Validsoft VoiceID connector residing in the Davinci environment.

When an end user logs in using the credentials supplied by their IT department, their enrolled status is checked, and not-enrolled users are redirected to an enroll flow based on a VS landing page. This takes the user through enrollment, repeating a defined passphrase several times and creating a voice print within ValidSoft's database. Once a satisfactory voiceprint is created, the connector confirms that the user is enrolled. For user authentication, the process is similar except that the user is redirected to a ValidSoft landing page that includes the information that they are enrolled and that the user should only be authenticated by their passphrase. The response from the ValidSoft Voice Biometric solution is returned by confirming their authentication state for successful authentication. Otherwise, the user will see an authentication error message and be asked to complete the authentication using fall-back Sign-On methods.

## Sign-On Validsoft VoiceID connector usage in flow

In order to use this connector for Single-Sign-On, you must add it to the Single-Sign-On flow and pass the query parameters "LoginHint" as "username" and "redirectUrl" as "continueUrl" generated by the Flow Control connector. The response from this connector includes authentication-related OIDC claims such as vs_token and vb_status.

 access_token: This is used in enrollment flow, see Voice enrollment section.
 vb_status: Possible values are not_enrolled, success or fail.
 not_enrolled: This shows the user is not enrolled. The user should be forced to enroll his voice using the Voice Enrollment flow. Please see the Voice Enrollment section for more info.
 success: The user is authenticated successfully
 fail: The user authentication failed. In this case, the user can be redirected to “continueUrl” to use fallback authentication from the DaVinci flow.


## Enrollment Validsoft VoiceID connector usage in flow

To register, update or delete voice enrollments, simply add this connector to the corresponding flow and provide the necessary query parameters. Include the “LoginHint” as the user's “username”, the “redirectUrl” as the “continueUrl” generated by the Flow Control connector, and the token as “vs_token” obtained from the authentication flow. It is important to authenticate the user before performing any of these operations. Once authenticated, you will receive an "access_token" that needs to be validated by ValidSoft IDP to proceed. The response from this connector includes OIDC claims like “vb_status”, which pertains to the user's current enrollment status.

vb_status: Possible values are success or fail.
success: The user is authenticated successfully.
fail: User authentication failed. In this case, the user can be redirected to “continueUrl” to use fallback authentication from the DaVinci flow.


# Capabilities

Leave this section blank: it will be generated automatically


# Troubleshooting

Please contact validsoft at support@validsoft.com if you are having issues with the Validsoft VoiceID connector.


## Common solutions
If the user is not enrolled then you can initiate enrollment with a valid token received in Validsoft sign-on connector.
Ensure LoginHint parameter is passed with valid user identifier


## Troubleshooting resources


### Testing capabilities

You can test each capability individually for Sign-On and Voice Enrollment.
For help, please contact validsoft at support@validsoft.com




